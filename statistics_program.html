<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Final Examination - Statistics Program</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:#e0f7ff;
    user-select:none;
}
.flash-alert {
    animation: flash 0.4s alternate infinite;
}
@keyframes flash {
    from { background: black; }
    to { background: transparent; }
}
@media print{
    body{background:#fff;color:#000}
    button,.timer{display:none}
}

.header{text-align:center;padding:20px}
.header img{width:130px}

.timer{text-align:center;font-size:22px;font-weight:bold;margin-bottom:10px}

.container{
    width:90%;
    margin:auto;
    background:rgba(0,0,0,0.45);
    padding:20px;
    border-radius:12px;
}

table{width:100%;border-collapse:collapse;margin-bottom:20px}
td{border:1px solid #00e5ff;padding:8px}
input{width:96%;padding:6px}

.question{
    border:1px solid #00e5ff;
    padding:12px;
    margin-bottom:14px;
    border-radius:8px;
}

.choice{
    padding:6px;
    margin:6px 0;
    border:1px solid #aaa;
    border-radius:5px;
    cursor:pointer;
}
.choice.selected{background:#ccefff;color:#000}
.choice.correct{background:#d4edda;color:#000}
.choice.wrong{background:#f8d7da;color:#000}

.answer-review{
    margin-top:8px;
    padding:6px;
    background:rgba(255,255,255,0.1);
    border-radius:6px;
    font-size:14px;
}

button{
    padding:12px 24px;
    font-size:16px;
    border:none;
    border-radius:8px;
    margin:10px;
    cursor:pointer;
}
/* === SECURITY WARNING OVERLAY === */
#securityOverlay{
    position:fixed;
    top:0;left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.9);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:9999;
    animation:blink 0.6s infinite;
}

#securityOverlay h1{
    color:#fff;
    font-size:38px;
    text-align:center;
}

@keyframes blink{
    0%{opacity:1;}
    50%{opacity:0.2;}
    100%{opacity:1;}
}

/* Freeze exam */
.freeze *{
    pointer-events:none !important;
}

#result{text-align:center;font-size:18px;margin-top:20px}
</style>
</head>

<body
oncopy="return false"
oncut="return false"
onpaste="return false"
oncontextmenu="return false"
ondragstart="return false"
onselectstart="return false">

<div class="header">
    <img src="https://image2url.com/r2/default/images/1769014503355-aed3a663-edee-4712-974b-a5aa8787a845.png">
    <h1>FINAL EXAMINATION</h1>
    <h2>Chumphon Vocational College</h2>
    <h3>Statistics Program</h3>
</div>

<div class="timer" id="timer">Time Remaining: 60:00</div>

<div class="container">

<table>
<tr><td>Subject</td><td><input value="Statistics Program"></td></tr>
<tr><td>Name of Student</td><td><input></td></tr>
<tr><td>Student ID Number</td><td><input></td></tr>
<tr><td>Department</td><td><input></td></tr>
<tr><td>Teacher</td><td><input></td></tr>
</table>

<div id="questions"></div>

<div style="text-align:center">
    <button onclick="submitExam()">Submit Examination</button>
    <button onclick="window.print()">Save PDF</button>
</div>

<div id="result"></div>

</div>

<script>
// Disable shortcuts
document.addEventListener('keydown',function(e){
    if(e.ctrlKey && ['c','v','p','C','V','P'].includes(e.key)){
        e.preventDefault();
        alert("Copying, pasting, and printing are disabled.");
    }
});

// Detect PrintScreen
document.addEventListener('keyup',function(e){
    if(e.key === "PrintScreen" || e.keyCode === 44){
        alert("Screenshots are not allowed!");
        document.body.classList.add("flash-alert");
        setTimeout(()=>document.body.classList.remove("flash-alert"),2000);
    }
});

// Warn on blur
window.addEventListener('blur',function(){
    alert("Do not leave the exam window!");
});
</script>

<script>
let timeLeft=3600;
setInterval(()=>{
    let m=Math.floor(timeLeft/60);
    let s=timeLeft%60;
    document.getElementById("timer").textContent=
    `Time Remaining: ${m}:${s.toString().padStart(2,"0")}`;
    timeLeft--;
},1000);

const questions=[
{q:"1. In statistics the median is the:",o:["Mean value","Mode value","Middle value in sorted data","Range of data"],c:2},
{q:"2. A p-value indicates the probability of observing data given the null hypothesis is true.",o:["True","False","Depends","Only if n>30"],c:0}, // based on definition :contentReference[oaicite:1]{index=1}
{q:"3. The range is:",o:["Difference between highest and lowest values","Mean of data","Most frequent value","Square root of variance"],c:0}, // :contentReference[oaicite:2]{index=2}
{q:"4. A histogram is used to show:",o:["Relationship between two variables","Frequency distribution of a quantitative variable","Scatter of data points","Only medians"],c:1}, // :contentReference[oaicite:3]{index=3}
{q:"5. Correlation measures:",o:["Causation","Center of distribution","Strength/direction of association","Only probability"],c:2}, // :contentReference[oaicite:4]{index=4}
{q:"6. Standard deviation is the:",o:["Sum of deviations","Variance","Square root of the variance","Mean of deviations"],c:2}, // :contentReference[oaicite:5]{index=5}
{q:"7. The null hypothesis usually states:",o:["There is an effect","No significant effect","Higher mean","Lower mean"],c:1}, // :contentReference[oaicite:6]{index=6}
{q:"8. Type I error occurs when:",o:["False negative","Correct decision","Reject true null","Accept false null"],c:2},
{q:"9. The mean of a standard normal distribution is:",o:["0","1","10","-1"],c:0}, // :contentReference[oaicite:7]{index=7}
{q:"10. Probability distribution describes:",o:["Frequencies","Data plotting","Likelihood of random variable values","Median only"],c:2}, // :contentReference[oaicite:8]{index=8}
{q:"11. Discrete data are:",o:["Only integers","Qualitative categories","Data taking countable values","Continuous range"],c:2},
{q:"12. Continuous data can take:",o:["Only whole numbers","Any value in a range","Only negative values","Only positive integers"],c:1},
{q:"13. The mode is the value that:",o:["Occurs least","Occurs most","Is average","Differences squared"],c:1}, 
{q:"14. The mean is:",o:["Sum/n","Range/n","Median/n","Mode/n"],c:0},
{q:"15. A scatter plot shows:",o:["Frequency distribution","Relationship between two quantitative variables","Mean comparison","Mean only"],c:1}, // :contentReference[oaicite:9]{index=9}
{q:"16. The central limit theorem states:",o:["Mean always equals median","Sample means approximate normal distribution","Distribution always normal","Variance decreases"],c:1}, // :contentReference[oaicite:10]{index=10}
{q:"17. A box plot shows:",o:["Central tendency and spread","Only median","Only outliers","Graph of means"],c:0}, // :contentReference[oaicite:11]{index=11}
{q:"18. Probability of getting two heads from two fair coins is:",o:["25%","50%","75%","100%"],c:0}, // :contentReference[oaicite:12]{index=12}
{q:"19. A confidence interval provides:",o:["Exact parameter","Range of plausible values","Sample mean only","Test hypothesis"],c:1}, // :contentReference[oaicite:13]{index=13}
{q:"20. A categorical variable represents:",o:["Numbers only","Groups or categories","Text only","Continuous values"],c:1}, // :contentReference[oaicite:14]{index=14}
{q:"21. A z-score measures how many standard deviations a value is from:",o:["Median","Mode","Mean","Variance"],c:2}, // :contentReference[oaicite:15]{index=15}
{q:"22. A probability of 1 means:",o:["Impossible event","Certain event","Unlikely event","Rare event"],c:1},
{q:"23. A sample statistic estimates:",o:["Population parameter","Sample size","Data type","Scale unit"],c:0},
{q:"24. Variance is:",o:["Standard deviation squared","Difference","Sum","Range"],c:0},
{q:"25. If data are skewed right, then mean is typically:",o:["Greater than median","Less than median","Equal to median","Zero"],c:0},
{q:"26. The coefficient of determination (R²) is:",o:["Variance proportion explained","Standard deviation","Median measure","Mode measure"],c:0}, // :contentReference[oaicite:16]{index=16}
{q:"27. Regression analysis finds:",o:["Mean only","Relationship between variables","Only probabilities","Ranges"],c:1},
{q:"28. Binomial distribution describes:",o:["Continuous variable","Discrete trials with success probability","Only normal data","Only categorical"],c:1},
{q:"29. Probability of rolling even number on fair dice is:",o:["1/3","1/2","1/6","2/3"],c:1}, // :contentReference[oaicite:17]{index=17}
{q:"30. A histogram bin represents:",o:["Group of values","Single point","Median only","Mean only"],c:0},
{q:"31. Inferential statistics draws conclusions about:",o:["Sample only","Population from sample","Only mean","Only variance"],c:1},
{q:"32. The mode of {2,2,3,4} is:",o:["2","3","4","None"],c:0},
{q:"33. The median of {1,3,5} is:",o:["3","5","1","4"],c:0}, // :contentReference[oaicite:18]{index=18}
{q:"34. The range of {5,9,2,3,8} is:",o:["7","8","5","4"],c:0}, // :contentReference[oaicite:19]{index=19}
{q:"35. 68% of data falls within 1 SD if normal:",o:["True","False","Depends","Impossible"],c:0}, // :contentReference[oaicite:20]{index=20}
{q:"36. Random sampling reduces:",o:["Bias","Only mean","Scale","Variance"],c:0},
{q:"37. A bell shape distribution is:",o:["Uniform","Normal","Skewed","Bimodal"],c:1},
{q:"38. Probability of mutually exclusive events sums to:",o:[">1","Exactly 1","0","<0"],c:1},
{q:"39. Systematic sampling involves:",o:["Random group","Fixed interval selection","Only mean","Only mode"],c:1},
{q:"40. Chi-square test is for:",o:["Means","Variances only","Independence of categorical variables","Probabilities only"],c:2},
{q:"41. Pilot studies help:",o:["Increase bias","Test feasibility","No impact","Always fail"],c:1},
{q:"42. A bar chart shows:",o:["Frequencies","Regression","Normal curve","Median only"],c:0},
{q:"43. A time series plot is used to:",o:["Show change over time","Only mean","Only variance","Only probability"],c:0},
{q:"44. A percentile rank tells:",o:["Percentage below a value","Above a value","Mean only","Mode only"],c:0},
{q:"45. Random variable X can be:",o:["Only integers","Only text","Discrete or continuous","Only categorical"],c:2},
{q:"46. Permutation differs from combination by:",o:["Order matters","Order irrelevant","Mean matters","Mode matters"],c:0},
{q:"47. Mean absolute deviation measures:",o:["Average deviation from mean","Range","Median only","Mode only"],c:0},
{q:"48. Probability of impossible event is:",o:["0","1","0.5","-1"],c:0},
{q:"49. A sampling frame is:",o:["List of population elements","Mean measure","Variance measure","Graph"],c:0},
{q:"50. Covariance measures:",o:["Direction of linear relationship","Only mean","Only mode","Range"],c:0},
{q:"51. Hypothesis testing uses:",o:["Only mean","Sample evidence","Only mode","Only median"],c:1},
{q:"52. Normal distribution is:",o:["Skewed left","Symmetric","Bimodal","Uniform"],c:1},
{q:"53. A probability distribution must sum to:",o:["0","1",">1","-1"],c:1},
{q:"54. Interquartile range measures:",o:["Spread of middle 50%","Only mode","Only median","Only mean"],c:0},
{q:"55. A statistic is:",o:["Population value","Sample estimate","Parameter","Graph"],c:1},
{q:"56. Correlation = 0 means:",o:["No linear relationship","Perfect positive","Perfect negative","Undefined"],c:0},
{q:"57. Central limit theorem applies as sample size:",o:["Gets larger","Smaller","Constant","No change"],c:0},
{q:"58. A box plot shows outliers as:",o:["Points","Lines","Bars","Curves"],c:0},
{q:"59. A bell curve mean equals:",o:["Median","Mode","All are equal","None"],c:2},
{q:"60. Degrees of freedom for variance estimate sample n=10 is:",o:["9","10","8","11"],c:0}
];

const qDiv=document.getElementById("questions");
let answers=new Array(questions.length).fill(null);

questions.forEach((q,i)=>{
    let box=document.createElement("div");
    box.className="question";
    box.innerHTML=`<b>${q.q}</b><br>`;
    q.o.forEach((opt,idx)=>{
        let d=document.createElement("div");
        d.className="choice";
        d.textContent=`${String.fromCharCode(65+idx)}. ${opt}`;
        d.onclick=()=>{
            if(answers[i]!==null) return;
            answers[i]=idx;
            d.classList.add("selected");
        };
        box.appendChild(d);
    });
    qDiv.appendChild(box);
});

function submitExam(){
    let score=0;
    answers.forEach((a,i)=>{
        const box=qDiv.children[i];
        const correct=questions[i].c;
        const choices=box.querySelectorAll(".choice");

        if(a===correct){
            score++;
            choices[a].classList.add("correct");
        }else{
            if(a!==null) choices[a].classList.add("wrong");
            choices[correct].classList.add("correct");
        }

        box.innerHTML+=`
        <div class="answer-review">
            <b>Your Answer:</b> ${a!==null?questions[i].o[a]:"No Answer"}<br>
            <b>Correct Answer:</b> ${questions[i].o[correct]}
        </div>`;
    });

    document.getElementById("result").innerHTML=`
    <h3>EXAM RESULT</h3>
    Raw Score: ${score}/60<br>
    30% Equivalent: ${(score/60*30).toFixed(2)}
    `;
}
</script>
<script>
/* ===============================
   STRICT EXAM SECURITY SYSTEM
================================ */

// Prevent refresh / close
window.addEventListener("beforeunload", function (e) {
    e.preventDefault();
    e.returnValue = "Exam in progress. Leaving will submit your exam.";
});

// Disable copy, paste, cut, right-click
["copy","paste","cut","contextmenu"].forEach(event=>{
    document.addEventListener(event,e=>{
        e.preventDefault();
        alert("Action disabled during examination.");
    });
});

// Disable text selection
document.addEventListener("selectstart", e => e.preventDefault());

// Detect Print Screen (PC)
document.addEventListener("keyup", function (e) {
    if (e.key === "PrintScreen" || e.keyCode === 44) {
        securityViolation("Screenshot detected!");
    }
});

// Detect Ctrl shortcuts
document.addEventListener("keydown", function(e){
    if (
        e.ctrlKey &&
        ["c","v","x","p","s","u"].includes(e.key.toLowerCase())
    ) {
        e.preventDefault();
        securityViolation("Restricted keyboard shortcut!");
    }
});

// Detect tab switch / minimize (PC & Mobile)
let examLocked = false;

function securityViolation(message){
    if(examLocked) return;
    examLocked = true;

    alert(message + "\nYour exam will be submitted.");

    submitExam(); // auto-submit
}

// Detect tab switching
document.addEventListener("visibilitychange", function(){
    if (document.hidden) {
        securityViolation("You left the exam window!");
    }
});

// Detect window blur (Alt+Tab / app switch)
window.addEventListener("blur", function(){
    securityViolation("Exam window lost focus!");
});

// Mobile: detect touch gestures (basic protection)
let touchStartY = 0;
document.addEventListener("touchstart", e=>{
    touchStartY = e.touches[0].clientY;
});

document.addEventListener("touchmove", e=>{
    let touchMoveY = e.touches[0].clientY;
    if(Math.abs(touchMoveY - touchStartY) > 100){
        securityViolation("Gesture detected!");
    }
});

// Disable zoom (mobile)
document.addEventListener('gesturestart', e => e.preventDefault());
document.addEventListener('gesturechange', e => e.preventDefault());
document.addEventListener('gestureend', e => e.preventDefault());

</script>
<audio id="alarmSound" loop>
    <source src="https://image2url.com/r2/default/audio/1769311028308-f1317f8e-a263-48aa-b094-95803b516508.mp3" type="audio/mpeg">
</audio>

<div id="securityOverlay">
    <h1>⚠ EXAM VIOLATION DETECTED ⚠<br>
    SCREENSHOT AND COPY PASTE ARE NOT ALLOWED</h1>
</div>
<script>
/* ===============================
   MAXIMUM EXAM SECURITY SYSTEM
================================ */

let examFrozen = false;

function freezeExam(reason){
    if(examFrozen) return;
    examFrozen = true;

    // Freeze UI
    document.body.classList.add("freeze");

    // Show blinking warning
    document.getElementById("securityOverlay").style.display="flex";

    // Play alarm
    const alarm=document.getElementById("alarmSound");
    alarm.volume=1;
    alarm.play().catch(()=>{});

    // Alert backup
    alert(reason + "\nExam will be submitted automatically.");

    // Auto submit after 3 seconds
    setTimeout(()=>{
        submitExam();
    },3000);
}

/* BLOCK LEAVING */
window.addEventListener("beforeunload",e=>{
    e.preventDefault();
    e.returnValue="";
});

/* SCREENSHOT DETECTION (PC) */
document.addEventListener("keyup",e=>{
    if(e.key==="PrintScreen"||e.keyCode===44){
        freezeExam("Screenshot detected!");
    }
});

/* TAB SWITCH / APP SWITCH */
document.addEventListener("visibilitychange",()=>{
    if(document.hidden){
        freezeExam("You left the exam window!");
    }
});

window.addEventListener("blur",()=>{
    freezeExam("Exam window lost focus!");
});

/* KEYBOARD SHORTCUTS */
document.addEventListener("keydown",e=>{
    if(
        e.ctrlKey &&
        ["c","v","x","p","s","u"].includes(e.key.toLowerCase())
    ){
        e.preventDefault();
        freezeExam("Restricted key pressed!");
    }
});

/* COPY / PASTE / RIGHT CLICK */
["copy","paste","cut","contextmenu"].forEach(evt=>{
    document.addEventListener(evt,e=>{
        e.preventDefault();
        freezeExam("Restricted action detected!");
    });
});

/* MOBILE GESTURE DETECTION */
let touchY=0;
document.addEventListener("touchstart",e=>{
    touchY=e.touches[0].clientY;
});

document.addEventListener("touchmove",e=>{
    if(Math.abs(e.touches[0].clientY-touchY)>120){
        freezeExam("Gesture navigation detected!");
    }
});

/* DISABLE ZOOM */
["gesturestart","gesturechange","gestureend"].forEach(evt=>{
    document.addEventListener(evt,e=>e.preventDefault());
});
</script>
<script>
/* === UNLOCK AUDIO ON FIRST INTERACTION === */
let audioUnlocked = false;

function unlockAudio(){
    if(audioUnlocked) return;
    const alarm = document.getElementById("alarmSound");
    alarm.play().then(()=>{
        alarm.pause();
        alarm.currentTime = 0;
        audioUnlocked = true;
        console.log("Audio unlocked");
    }).catch(()=>{});
}

["click","keydown","touchstart"].forEach(evt=>{
    document.addEventListener(evt, unlockAudio, { once:true });
});
</script>

</body>
</html>
